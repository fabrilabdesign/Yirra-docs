apiVersion: apps/v1
kind: Deployment
metadata:
  name: mcp-server
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fetch-mcp-server
  template:
    metadata:
      labels:
        app.kubernetes.io/name: fetch-mcp-server
    spec:
      containers:
        - name: server
          image: ghcr.io/yourorg/fetch-mcp:latest
          env:
            - name: PORT
              value: "8080"
            - name: ALLOWLIST_REGEX
              value: "^(https://(yirrasystems\\.com|app\\.yirrasystems\\.com|flows\\.addiaire\\.com))$"
            - name: MAX_BODY_BYTES
              value: "1048576"
            - name: REQUEST_TIMEOUT_MS
              value: "8000"
            - name: REDACT_HEADERS
              value: "authorization,cookie"
            - name: HTML_TO_MD
              value: "true"

